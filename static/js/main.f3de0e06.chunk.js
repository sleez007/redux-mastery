(this["webpackJsonpspa-react"]=this["webpackJsonpspa-react"]||[]).push([[0],{12:function(e,t,a){e.exports={Message:"messageInput_Message__fCCBR",Message__input:"messageInput_Message__input__1v8w4"}},1328:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),c=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(31);var o,i=a(1),_=a.n(i),u=(a(33),a(7)),m=a(2),l=a(34),p=a(43),d=a(10),E=a(1),f=(o=10,Array.from({length:o},(function(){return g()}))),v=E.mapKeys(f,"user_id"),h=function(e){var t={};return E.forEach(f,(function(a){var n;t[a.user_id]=Object(m.a)({},E.mapKeys((n=e,Array.from({length:n},(function(e,t){return{number:t,text:p.sentence(),is_user_msg:d.random.boolean()}}))),"number"))})),t};g(),h(10);function g(){return{name:d.name.findName(),email:d.internet.email(),profile_pic:d.internet.avatar(),status:p.sentence(),user_id:l.generate()}}var y=a(5),b=Object(u.a)({contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return e},activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_USER_ID":return t.payload;default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var a=t.payload,n=a.message,r=a.userId,s=e[r],c=+_.a.keys(s).pop()+1;return Object(m.a)(Object(m.a)({},e),{},Object(y.a)({},r,Object(m.a)(Object(m.a)({},s),{},Object(y.a)({},c,{number:c,text:n,is_user_msg:!0}))));default:return e}},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TYPING_VALUE":return t.payload;case"SEND_MESSAGE":return"";default:return e}}}),S=Object(u.b)(b),N=a(19),U=a.n(N),w=a(4),I=a.n(w);function C(e){var t=e.user_id;console.log(t),S.dispatch({type:"SET_ACTIVE_USER_ID",payload:t})}var j=function(e){var t=e.user,a=t.name,n=t.profile_pic,s=t.status;return r.a.createElement("div",{className:I.a.User,onClick:C.bind(null,t)},r.a.createElement("img",{src:n,alt:a,className:I.a.User__pic}),r.a.createElement("div",{className:I.a.User__details},r.a.createElement("p",{className:I.a.User__details_name},a),r.a.createElement("p",{className:I.a.User__details_status},s)))},M=function(e){var t=e.contacts;return r.a.createElement("aside",{className:U.a.Sidebar},t.map((function(e){return r.a.createElement(j,{user:e,key:e.user_id})})))},O=a(20),T=a.n(O),k=a(3),x=a.n(k),A=function(e){var t=e.user,a=t.name,n=t.profile_pic,s=t.status,c=a.split(" ")[0];return r.a.createElement("div",{className:x.a.Empty},r.a.createElement("h1",{className:x.a.Empty__name},"Welcome, ",c," "),r.a.createElement("img",{src:n,alt:a,className:x.a.Empty__img}),r.a.createElement("p",{className:x.a.Empty__status},r.a.createElement("b",null,"Status:")," ",s),r.a.createElement("button",{className:x.a.Empty__btn},"Start a conversation"),r.a.createElement("p",{className:x.a.Empty__info},"Search for someone to start chatting with or go to Contacts to see who is available"))},R=a(8),D=a.n(R),H=function(e){var t=e.user,a=t.name,n=t.status;return r.a.createElement("header",{className:D.a.Header},r.a.createElement("h1",{className:D.a.Header__name},a),r.a.createElement("p",{className:D.a.Header__status},n))},W=a(21),B=a(22),G=a(25),V=a(24),K=a(9),L=a.n(K),F=function(e){var t=e.message,a=t.text,n=t.is_user_msg;return r.a.createElement("span",{className:"".concat(L.a.Chat," ").concat(n?L.a["is-user-msg"]:"")},a)},J=function(e){Object(G.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(W.a)(this,a),(n=t.call(this,e)).scrollToBottom=function(){n.chatsRef.current.scrollTop=n.chatsRef.current.scrollHeight},n.chatsRef=r.a.createRef(),n}return Object(B.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:L.a.Chats,ref:this.chatsRef},this.props.messages.map((function(e){return r.a.createElement(F,{message:e,key:e.number})})))}},{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}}]),a}(n.Component),P=a(23),Q=a.n(P),z=a(12),Y=a.n(z),Z=function(e){var t=e.value,a=S.getState();return r.a.createElement("form",{className:Y.a.Message,onSubmit:function(e){e.preventDefault();var t=a.typing,n=a.activeUserId;S.dispatch({type:"SEND_MESSAGE",payload:{message:t,userId:n}})}},r.a.createElement("input",{className:Y.a.Message__input,onChange:function(e){S.dispatch(function(e){return{type:"SET_TYPING_VALUE",payload:e}}(e.target.value))},value:t,placeholder:"write a message"}))},$=function(e){var t=e.activeUserId,a=S.getState(),n=a.typing,s=a.contacts[t],c=a.messages[t];return r.a.createElement("div",{className:Q.a.ChatWindow},r.a.createElement(H,{user:s}),r.a.createElement(J,{messages:_.a.values(c)}),r.a.createElement(Z,{value:n}))},q=function(e){var t=e.user,a=e.activeUserId;return r.a.createElement("main",{className:T.a.Main},a?r.a.createElement($,{activeUserId:a}):r.a.createElement(A,{user:t,activeUserId:a}))};var X=function(){var e=S.getState(),t=e.contacts,a=e.user,n=e.activeUserId;return r.a.createElement("div",{className:"App"},r.a.createElement(M,{contacts:_.a.values(t)}),r.a.createElement(q,{user:a,activeUserId:n}))};var ee=function(){return console.log("%c Rendered with \ud83d\udc49 \ud83d\udc49\ud83d\udc47","background: purple; color: #FFF"),console.log(S.getState()),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root"))};ee(),S.subscribe(ee),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},19:function(e,t,a){e.exports={Sidebar:"sidebar_Sidebar__1Qz_V"}},20:function(e,t,a){e.exports={Main:"main_Main__30wLU"}},23:function(e,t,a){e.exports={ChatWindow:"chatWindow_ChatWindow__2SwA9"}},26:function(e,t,a){e.exports=a(1328)},3:function(e,t,a){e.exports={Empty:"empty_Empty__4bW5z",Empty__name:"empty_Empty__name__1P6Wa",Empty__status:"empty_Empty__status__I_Z_D",Empty__info:"empty_Empty__info__1eBKb",Empty__img:"empty_Empty__img__1SmQb",Empty__btn:"empty_Empty__btn__3GLce"}},31:function(e,t,a){},33:function(e,t,a){},4:function(e,t,a){e.exports={User:"user_User__13HCg",User__pic:"user_User__pic__10jVh",User__details:"user_User__details__1oKJi",User__details_name:"user_User__details_name__3GQEo"}},8:function(e,t,a){e.exports={Header:"header_Header__2o08c",Header__name:"header_Header__name__2oRCG"}},9:function(e,t,a){e.exports={Chats:"chat_Chats__3anVT",Chat:"chat_Chat__1d_Zy","is-user-msg":"chat_is-user-msg__2BumV"}}},[[26,1,2]]]);
//# sourceMappingURL=main.f3de0e06.chunk.js.map